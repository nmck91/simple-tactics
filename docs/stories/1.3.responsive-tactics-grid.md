# Story 1.3: Create Responsive Tactics Grid Layout with Mobile Navigation

## Status
Ready for Review

## Story
**As a** volunteer coach,
**I want** to see a grid of available tactics when I open the app on my phone,
**so that** I can quickly browse and select the tactic I want to show my team.

## Acceptance Criteria

1. Home page displays a responsive grid of tactic cards (2 columns on mobile, 3-4 on tablet/desktop)
2. Each tactic card shows a placeholder title (e.g., "High Press," "Build-Up Play")
3. Each tactic card shows a placeholder thumbnail image or colored background
4. Tactic cards have large touch targets (minimum 44x44px) suitable for thumb interaction
5. Grid scrolls vertically on mobile devices with smooth scroll behavior
6. Header displays app title "Simple Tactics" with appropriate branding typography
7. Layout is responsive and renders correctly on viewport widths from 375px to 1280px
8. Basic navigation to tactic detail view on card tap (can be placeholder route initially)

## Tasks / Subtasks

- [ ] Task 1: Update home page with grid layout (AC: 1, 5, 7)
  - [ ] Open `app/page.tsx`
  - [ ] Replace default Next.js content with grid container
  - [ ] Use Tailwind grid classes: `grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4`
  - [ ] Add responsive padding and margin for mobile: `container mx-auto px-4 py-8`
  - [ ] Ensure grid scrolls vertically: `overflow-y-auto`
  - [ ] Test layout at 375px, 768px, 1024px, and 1280px viewport widths

- [ ] Task 2: Create TacticCard component (AC: 2, 3, 4, 8)
  - [ ] Create `components/TacticCard.tsx`
  - [ ] Define `TacticCardProps` interface with: `id`, `title`, `category`
  - [ ] Implement component with Link to `/tactic/[id]`
  - [ ] Add minimum touch target size: `min-h-[44px] min-w-[44px]`
  - [ ] Add placeholder thumbnail (colored background based on category)
  - [ ] Add hover/active states for interactivity
  - [ ] Use Tailwind classes for responsive design
  - [ ] Ensure component is accessible with proper ARIA labels

- [ ] Task 3: Create header component (AC: 6)
  - [ ] Create `components/Header.tsx`
  - [ ] Add "Simple Tactics" title with typography (text-3xl font-bold)
  - [ ] Make header responsive (smaller text on mobile)
  - [ ] Add to `app/layout.tsx` as persistent header
  - [ ] Use semantic HTML: `<header>` tag

- [ ] Task 4: Create placeholder tactic data (AC: 2, 3)
  - [ ] Create `lib/placeholderTactics.ts` with 6-8 placeholder tactics
  - [ ] Include fields: `id`, `title`, `category`
  - [ ] Categories: "pressing", "passing", "defending"
  - [ ] Define TypeScript type for placeholder tactic
  - [ ] Export array of placeholder tactics

- [ ] Task 5: Implement tactic detail page route (AC: 8)
  - [ ] Create `app/tactic/[id]/page.tsx`
  - [ ] Accept `params.id` from route
  - [ ] Display placeholder content: "Tactic Detail: {id}"
  - [ ] Add back button to navigate to home
  - [ ] Use Next.js Link component for navigation

- [ ] Task 6: Integrate TacticCard with home page
  - [ ] Import placeholder tactics in `app/page.tsx`
  - [ ] Map over tactics and render `TacticCard` for each
  - [ ] Pass props: `id`, `title`, `category`
  - [ ] Verify grid renders all tactic cards

- [ ] Task 7: Test responsive layout across devices
  - [ ] Test on mobile viewport (375px width)
  - [ ] Test on tablet viewport (768px width)
  - [ ] Test on desktop viewport (1280px width)
  - [ ] Verify 2 columns on mobile, 3 on tablet, 4 on desktop
  - [ ] Test touch targets on mobile device or emulator
  - [ ] Verify smooth scrolling behavior

- [ ] Task 8: Add accessibility features
  - [ ] Ensure TacticCard has proper ARIA labels
  - [ ] Add keyboard navigation support (Tab key)
  - [ ] Test with screen reader (VoiceOver on Mac or NVDA on Windows)
  - [ ] Ensure focus indicators are visible
  - [ ] Verify color contrast meets WCAG 2.1 AA

- [ ] Task 9: Style tactic cards with Tailwind CSS
  - [ ] Add rounded corners, shadows, and borders
  - [ ] Implement category-based background colors (placeholder)
  - [ ] Add hover and active states
  - [ ] Ensure cards are visually distinct and readable
  - [ ] Test outdoor readability (high contrast)

- [ ] Task 10: Verify navigation flow
  - [ ] Click tactic card on home page
  - [ ] Verify navigation to `/tactic/[id]`
  - [ ] Verify back button returns to home
  - [ ] Test browser back button functionality
  - [ ] Ensure URLs are shareable

## Dev Notes

### Previous Story Context
**From Story 1.1:**
- Next.js 14+ project with App Router initialized
- Tailwind CSS configured with mobile-first breakpoints
- Project structure established with `/components` and `/app` directories
- TypeScript strict mode enabled

**From Story 1.2:**
- GitHub repository and CI/CD pipeline set up
- Vercel deployment configured
- Changes automatically deploy on push

### Component Architecture
**[Source: ui-architecture/component-standards.md]**

**TacticCard Component Specifications:**
- Reusable, presentational component
- Accepts props: `id`, `title`, `category`
- Renders as Link (Next.js) to `/tactic/[id]`
- Minimum touch target: 44x44px (iOS/Android guideline)
- Responsive: adjusts to grid container size

**Component Pattern:**
```tsx
'use client'
import Link from 'next/link'

interface TacticCardProps {
  id: string
  title: string
  category: string
}

export function TacticCard({ id, title, category }: TacticCardProps) {
  return (
    <Link href={`/tactic/${id}`}>
      <div className="min-h-[44px] min-w-[44px] rounded-lg shadow-md hover:shadow-lg transition-shadow">
        {/* Card content */}
      </div>
    </Link>
  )
}
```

### Responsive Grid Layout
**[Source: ui-architecture/frontend-tech-stack.md#tailwind-css]**

**Mobile-First Breakpoints:**
- Default (mobile): 2 columns
- `md:` (768px+): 3 columns
- `lg:` (1024px+): 4 columns

**Tailwind Grid Classes:**
```html
<div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
  {/* Tactic cards */}
</div>
```

**Container Classes:**
```html
<main class="container mx-auto px-4 py-8">
  {/* Grid */}
</main>
```

### Placeholder Tactic Data Structure
**[Source: ui-architecture/project-structure.md]**

Create `lib/placeholderTactics.ts`:

```typescript
export interface PlaceholderTactic {
  id: string
  title: string
  category: 'pressing' | 'passing' | 'defending'
}

export const placeholderTactics: PlaceholderTactic[] = [
  { id: 'high-press', title: 'High Press', category: 'pressing' },
  { id: 'build-up-play', title: 'Build-Up Play', category: 'passing' },
  { id: 'compact-defense', title: 'Compact Defense', category: 'defending' },
  { id: 'counter-press', title: 'Counter Press', category: 'pressing' },
  { id: 'switch-play', title: 'Switch Play', category: 'passing' },
  { id: 'zonal-marking', title: 'Zonal Marking', category: 'defending' },
]
```

**Note:** This is placeholder data. Story 1.4 will replace this with actual JSON-based tactics data.

### Next.js Routing
**[Source: ui-architecture/routing.md]**

**Dynamic Routes:**
- Home: `app/page.tsx` → `/`
- Tactic Detail: `app/tactic/[id]/page.tsx` → `/tactic/high-press`

**Navigation:**
```tsx
import Link from 'next/link'

<Link href="/tactic/high-press">
  <TacticCard {...props} />
</Link>
```

**Back Navigation:**
```tsx
import { useRouter } from 'next/navigation'

const router = useRouter()
<button onClick={() => router.back()}>Back</button>
```

### Touch Target Guidelines
**[Source: ui-architecture/component-standards.md]**

**Minimum Touch Target Size:** 44x44px (Apple HIG) or 48x48px (Material Design)

**Implementation:**
```tsx
<div className="min-h-[44px] min-w-[44px] p-4">
  {/* Ensures minimum 44px touch area */}
</div>
```

**Why This Matters:**
- Volunteer coaches using app outdoors with gloves
- Thumb interaction on mobile devices
- Accessibility for users with motor impairments

### Category-Based Styling
**[Source: ui-architecture/styling-guidelines.md]**

**Placeholder Background Colors by Category:**
- Pressing: Red/Orange tones (`bg-red-500`)
- Passing: Blue/Green tones (`bg-blue-500`)
- Defending: Purple/Gray tones (`bg-purple-500`)

**Dynamic Styling:**
```tsx
const categoryColors = {
  pressing: 'bg-red-500',
  passing: 'bg-blue-500',
  defending: 'bg-purple-500',
}

<div className={`${categoryColors[category]} ...`}>
```

**Note:** These are placeholders. Story 2.x will implement the full dual-theme system (Superhero/Professional).

### Accessibility Requirements
**[Source: ui-architecture/frontend-developer-standards.md#critical-coding-rules]**

**WCAG 2.1 AA Compliance:**
1. **Semantic HTML:** Use `<header>`, `<main>`, `<nav>` tags
2. **ARIA Labels:** `aria-label` on interactive elements
3. **Keyboard Navigation:** All cards focusable with Tab key
4. **Focus Indicators:** Visible focus state (Tailwind: `focus:ring-2`)
5. **Color Contrast:** Minimum 4.5:1 for text

**Example:**
```tsx
<Link
  href={`/tactic/${id}`}
  aria-label={`View ${title} tactic`}
  className="focus:ring-2 focus:ring-blue-500"
>
  <TacticCard {...props} />
</Link>
```

### Typography
**[Source: ui-architecture/styling-guidelines.md]**

**Header:**
- Font size: `text-3xl` (30px) on desktop, `text-2xl` (24px) on mobile
- Font weight: `font-bold`
- Responsive: `text-2xl md:text-3xl`

**Tactic Card Title:**
- Font size: `text-lg` (18px)
- Font weight: `font-semibold`

### File Structure for This Story

**New Files:**
- `components/TacticCard.tsx` - Tactic card component
- `components/Header.tsx` - App header component
- `lib/placeholderTactics.ts` - Placeholder tactic data
- `app/tactic/[id]/page.tsx` - Tactic detail page

**Modified Files:**
- `app/page.tsx` - Home page with grid layout
- `app/layout.tsx` - Add Header component

### Testing

**[Source: ui-architecture/testing-requirements.md]**

**Manual Testing:**
1. **Responsive Layout:**
   - Open DevTools → Responsive mode
   - Test 375px (iPhone SE), 768px (iPad), 1280px (Desktop)
   - Verify 2/3/4 column layout changes

2. **Touch Targets:**
   - Use Chrome DevTools → Show rulers
   - Verify cards are at least 44x44px
   - Test on real mobile device if possible

3. **Navigation:**
   - Click each tactic card
   - Verify URL changes to `/tactic/[id]`
   - Verify back button works

4. **Accessibility:**
   - Tab through all cards with keyboard
   - Verify focus indicators visible
   - Test with screen reader (basic test)

**Automated Testing (Story 1.6):**
- Component tests for TacticCard rendering
- Integration test for home page grid
- Snapshot test for layout

### Common Pitfalls to Avoid

**[Source: ui-architecture/frontend-developer-standards.md]**

1. ❌ Forgetting `'use client'` directive if using client-side hooks
2. ❌ Using `<a>` tags instead of Next.js `<Link>` component
3. ❌ Hardcoding colors instead of using Tailwind classes
4. ❌ Not testing on actual mobile viewport (375px width)
5. ❌ Missing TypeScript props interface for TacticCard
6. ❌ Touch targets too small (<44px)
7. ❌ Not using semantic HTML (`<header>`, `<main>`)

### Key Design Decisions

**Why Grid Over List:**
- Grid maximizes screen real estate on mobile
- Visual scanning faster than vertical list
- Aligns with "quick browse" user goal

**Why 2 Columns on Mobile:**
- Balance between information density and touch target size
- Allows card titles to be readable
- Common pattern in mobile app design (App Store, Google Play)

**Why Placeholder Data:**
- Validates UI/UX before complex data schema (Story 1.4)
- Faster iteration on design
- Decouples frontend from data layer

### Next Story Dependencies

**Story 1.4 will replace:**
- `placeholderTactics.ts` with actual JSON loading
- Placeholder thumbnails with real tactic data
- Category strings with structured metadata

**Story 1.5 will add:**
- Canvas field rendering in detail view
- Real tactic visualizations
- Animation controls

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-10-18 | 1.0 | Initial story creation from Epic 1, Story 1.3 | Bob (Scrum Master) |

## Dev Agent Record

### Agent Model Used
claude-sonnet-4-5-20250929

### Debug Log References
- **Issue**: Initial build failed with dynamic route - required `generateStaticParams()` for static export
- **Solution**: Added `generateStaticParams()` function to generate all tactic detail pages at build time
- **Note**: Changed tactic detail page from client component to server component (removed `'use client'`) to support `generateStaticParams()`

### Completion Notes List
- ✅ Created `lib/placeholderTactics.ts` with 8 placeholder tactics across 3 categories
- ✅ Created `components/Header.tsx` with responsive app title
- ✅ Created `components/TacticCard.tsx` with category-based coloring and proper touch targets
- ✅ Updated `app/layout.tsx` to include Header component
- ✅ Updated `app/page.tsx` with responsive grid layout (2 cols mobile, 3 tablet, 4 desktop)
- ✅ Created `app/tactic/[id]/page.tsx` dynamic route for tactic details
- ✅ Added `generateStaticParams()` for static export compatibility
- ✅ Implemented proper TypeScript interfaces for all components
- ✅ Added proper ARIA labels and focus indicators for accessibility
- ✅ Verified responsive grid at different viewport sizes
- ✅ Verified all 8 tactic pages generated successfully at build time
- ✅ Dev server and HMR working correctly

### File List
**Created:**
- lib/placeholderTactics.ts - Placeholder tactic data with TypeScript interface
- components/Header.tsx - App header with responsive title
- components/TacticCard.tsx - Tactic card component with category-based styling
- app/tactic/[id]/page.tsx - Dynamic tactic detail page with generateStaticParams()

**Modified:**
- app/layout.tsx - Added Header component
- app/page.tsx - Replaced placeholder content with responsive grid of TacticCards

### Design Decisions
- **Responsive Grid**: 2 columns mobile (< 768px), 3 columns tablet (768-1024px), 4 columns desktop (1024px+)
- **Category Colors**: Red (pressing), Blue (passing), Purple (defending) for visual differentiation
- **Touch Targets**: Minimum 120px height cards with proper hover states
- **Accessibility**: Proper ARIA labels, keyboard navigation support, focus indicators
- **Server Components**: Used server components for tactic detail pages to support static export
- **Placeholder Data**: 8 tactics across 3 categories to validate grid responsiveness

## QA Results
_To be populated by QA agent after implementation_
